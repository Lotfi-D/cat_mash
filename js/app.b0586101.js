(function(){"use strict";var e={8298:function(e,t,a){var n=a(5130),s=a(6768),l=a.p+"img/cute_cat.315b57c7.png";const r={class:"bg-black text-white p-4 w-full z-10 font-bold"},o={class:"container flex items-center"},c=(0,s.Lk)("img",{src:l,alt:"logo",style:{width:"100px","max-height":"65px","object-fit":"cover"}},null,-1),u=(0,s.Lk)("span",null,"CAT MASH",-1),i={class:"ml-5 space-x-4 text-lg"};function d(e,t){const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",r,[(0,s.Lk)("div",o,[(0,s.bF)(a,{to:"/",class:"flex items-center"},{default:(0,s.k6)((()=>[c,u])),_:1}),(0,s.Lk)("nav",i,[(0,s.bF)(a,{to:"/scores",class:""},{default:(0,s.k6)((()=>[(0,s.eW)("Scores")])),_:1})])])])}var f=a(1241);const v={},p=(0,f.A)(v,[["render",d]]);var m=p;const b={class:""},h={class:"min-h-screen bg-gradient-to-r from-blue-500 to-pink-500 pt-[150px]"};var g={__name:"App",setup(e){return(e,t)=>{const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",b,[(0,s.bF)(m,{class:"w-full fixed"}),(0,s.Lk)("main",h,[(0,s.bF)(a)])])}}};const x=g;var k=x,y=a(1387),w=a(144),_=a(8355),C={fetchAllCats(){return _.A.get("https://data.latelier.co/cats.json")}},L=a(4232),S=a(683),j=a(3673),O=(a(4114),a(3367));const A=(0,O.nY)("cats",(()=>{const e=(0,w.KR)([]),t=(0,w.KR)([]),a=(0,s.EW)((()=>{const a=t.value.map((e=>e.id)),n=e.value.map((e=>{let n=0;if(a.includes(e.id)){const a=t.value.findIndex((t=>t.id===e.id));n=t.value[a].score}return{id:e.id,url:e.url,score:n}}));return n})),n=e=>{const a=t.value.map((e=>e.id));if(a.includes(e.id)){const a=t.value.findIndex((t=>t.id===e.id));t.value[a].score++}else t.value.push({id:e.id,score:1})},l=t=>{e.value=t};return{cats:e,scores:t,listCats:a,incrementScore:n,addAllCats:l}}),{persist:!0}),E=["src"];var R={__name:"BaseCard",props:{catNumber:{type:Number,default:1},data:{type:Object,default:()=>({})}},emits:["voted"],setup(e,{emit:t}){const a=A(),{incrementScore:n}=a,l=e,r=t,o=(0,s.EW)((()=>1===l.catNumber?"first-cat":"second-cat")),c=e=>{n(e),r("voted")};return(t,a)=>((0,s.uX)(),(0,s.Wv)((0,w.R1)(S.Ik),{class:"cat-container bg-white p-6 rounded-lg shadow-lg flex flex-col items-center w-[480px]"},{footer:(0,s.k6)((()=>[(0,s.bF)((0,w.R1)(j.S2),{class:(0,L.C4)(["w-[100%]",o.value]),onClick:a[0]||(a[0]=t=>c(e.data))},{default:(0,s.k6)((()=>[(0,s.eW)(" Votez ")])),_:1},8,["class"])])),default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:e.data.url,class:"w-[400px] h-[400px]"},null,8,E)])),_:1}))}};const F=R;var K=F;const W={class:"flex flex-col items-center justify-center"},X=(0,s.Lk)("h1",{class:"mb-8 text-4xl font-bold text-white"},"Lequel de ces chats est le plus mignon ?",-1),P={class:"flex justify-around w-full px-4"};var V={__name:"HomePage",setup(e){const t=A(),{listCats:a}=(0,O.bP)(t),{addAllCats:n}=t,l=(0,w.KR)({}),r=(0,w.KR)({}),o=(0,w.KR)(!1);(0,s.sV)((async()=>{await c(),f()}));const c=async()=>{try{const{data:e}=await C.fetchAllCats();n(e.images)}catch(e){console.log(e)}},u=()=>Math.floor(Math.random()*a.value.length),i=()=>{const e=u();l.value=a.value[e]},d=()=>{const e=u();r.value=a.value[e],r.value.id===l.value.id&&d()},f=()=>{o.value=!0,i(),d(),setTimeout((()=>{o.value=!1}),800)};return(e,t)=>{const a=(0,s.gN)("loading");return(0,s.uX)(),(0,s.CE)("div",W,[X,(0,s.Lk)("div",P,[(0,s.bo)((0,s.bF)(K,{"cat-number":1,data:l.value,onVoted:f},null,8,["data"]),[[a,o.value]]),(0,s.bo)((0,s.bF)(K,{"cat-number":2,data:r.value,onVoted:f},null,8,["data"]),[[a,o.value]])])])}}};const T=V;var B=T;const I={class:"flex justify-center"},M=(0,s.Lk)("span",{class:"font-bold mr-1"},"Score:",-1),D=["src"];var N={__name:"BaseCardScore",props:{data:{type:Object,default:()=>({})}},setup(e){return(t,a)=>((0,s.uX)(),(0,s.Wv)((0,w.R1)(S.Ik),{style:{width:"320px"}},{header:(0,s.k6)((()=>[(0,s.Lk)("div",I,[M,(0,s.eW)(" "+(0,L.v_)(e.data.score),1)])])),default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("img",{src:e.data.url,class:"w-[100%] h-[300px]"},null,8,D)])])),_:1}))}};const z=N;var H=z,q=a(5524);const U=(e,t="asc")=>"desc"===t?e.sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:0)):e.sort(((e,t)=>e.score>t.score?1:e.score<t.score?-1:0)),Y={class:"flex flex-col"},G={class:"justify-center flex items-center mb-5"},J=(0,s.Lk)("span",null,"Trier par:",-1),Q={class:"flex justify-center p-4"},Z={class:"grid grid-cols-4 gap-10"};var $={__name:"ScoresPage",setup(e){const t=A(),{listCats:a}=(0,O.bP)(t),n=(0,w.KR)(""),l=(0,w.KR)([{label:"Du mieux noté au moins bien noté",value:"sortByDescScores"},{label:"Du moins bien noté au mieux noté",value:"sortByAscScores"}]),r=(0,s.EW)((()=>"sortByDescScores"===n.value?U([...a.value],"desc"):"sortByAscScores"===n.value?U([...a.value],"asc"):a.value));return(e,t)=>((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",G,[J,(0,s.bF)((0,w.R1)(q.AV),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:"Select",size:"large",class:"ml-5",style:{width:"240px"}},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.value,(e=>((0,s.uX)(),(0,s.Wv)((0,w.R1)(q.P9),{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,s.Lk)("div",Q,[(0,s.Lk)("div",Z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.value,(e=>((0,s.uX)(),(0,s.Wv)(H,{key:e.id,data:e,class:"bg-white rounded-lg shadow overflow-hidden"},null,8,["data"])))),128))])])]))}};const ee=$;var te=ee;const ae=[{path:"/",name:"home",component:B},{path:"/scores",name:"scores",component:te}],ne=(0,y.aE)({history:(0,y.LA)("/cat_mash/"),routes:ae});var se=ne,le=a(5320),re=(a(4188),a(6839));const oe=(0,O.Ey)();oe.use(re.A),(0,n.Ef)(k).use(se).use(oe).use(le.Ks).mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,l){if(!n){var r=1/0;for(i=0;i<e.length;i++){n=e[i][0],s=e[i][1],l=e[i][2];for(var o=!0,c=0;c<n.length;c++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(o=!1,l<r&&(r=l));if(o){e.splice(i--,1);var u=s();void 0!==u&&(t=u)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[n,s,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/cat_mash/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,l,r=n[0],o=n[1],c=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(c)var i=c(a)}for(t&&t(n);u<r.length;u++)l=r[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(i)},n=self["webpackChunkcat_mash"]=self["webpackChunkcat_mash"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8298)}));n=a.O(n)})();
//# sourceMappingURL=app.b0586101.js.map